# How to reduce SERO block data storage space (manually create block snapshots)


1. ### Why create snapshots manually
   When the `SERO 1.0` full node is running for a period of time, the `SERO 1.0` full node block data can be very large due to the process of receiving, computing and storing the various uncle blocks and block branches generated by the mining competition. Creating snapshots effectively removes unnecessary data storage and greatly compresses the size of `SERO 1.0` full-node data. As a rule of thumb, the size of a snapshot of a 6 million height block is only about 150G.



2. ### Description of the `SERO 1.0`  data folders
   First find the data directory for `SERO 1.0`, usually specified by `--datadir` when `gero` is started.
   
   Under datadir there may be four folders.
   
   * **exchange:** `gero`'s account analysis data, the account balances corresponding to `keystore` that you imported are stored under this.
   * **gero:** Data related to the `SERO 1.0` chain itself is stored under this.
   * **light:** If you have enabled the light wallet service, then the relevant data is under this.
   * **stake:** If you have enabled the `stake` statistics service, the relevant statistics are under this.
   
   Where `gero/chaindata` is the block and state data for `SERO1.0`. The snapshot we have created extracts the valid data from `gero/chaindata` and creates a new, smaller `chaindata` containing only valid data. You can then manually replace the previous huge `gero/chaindata`.





3. ### Prerequisites for manual snapshot creation

   * Your `gero` version number needs to be greater than or equal to `v1.1.0`
   * You have already synced to the latest block with a snapshot greater than or equal to `6137414` height published by the Foundation.
     * Reference: [Snapshot download](https://wiki.sero.cash/zh/index.html?file=Start/sero-chain-snapshot-list)

   Missing either of the above two conditions will cause the snapshot creation to fail.

   

4. ### How to create a snapshot 

   * First stop the gero service (or there will be a failed snapshot creation)
   * Then run the command

   ```bash
   /bin/gero snapshot [TARGET_FILE_PATH] --datadir [GERO_DATA_DIR]
   ```

   **`TARGET_FILE_PATH`** Specifies the path to the newly generated `chaindata` snapshot.

   **`GERO_DATA_DIR`** Specify the old data directory of the `SERO 1.0` (the directory specified by `-datadir`).

   Then wait patiently for the snapshot to be created successfully.

   
